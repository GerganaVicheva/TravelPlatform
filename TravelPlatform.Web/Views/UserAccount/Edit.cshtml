@model TravelPlatform.ViewModels.EditAccountInputModel

@{
    ViewData["Title"] = "Edit Account";
    var currentUserId = ViewData["CurrentUserId"] as string;
}

@section Styles {
    <link href="~/css/edit-account-add-post.css" rel="stylesheet" asp-append-version="true" />
}

<h2 class="h-edit">Edit Your Account</h2>

<form asp-controller="UserAccount" asp-action="Edit" method="post" class="acc-form">
    @Html.AntiForgeryToken()

	<input type="hidden" asp-for="UserId" />

    <div class="form-group">
        <label asp-for="Username"></label>
        <input asp-for="Username" class="form-control" required/>
        <span asp-validation-for="Username" class="text-danger"></span>
    </div>

    <div class="form-group mt-3">
        <label asp-for="Bio"></label>
        <textarea asp-for="Bio" class="form-control" rows="4"></textarea>
        <span asp-validation-for="Bio" class="text-danger"></span>
    </div>

    <div class="form-group mt-3">
        <label asp-for="ProfilePictureUrl"></label>
        <input asp-for="ProfilePictureUrl" class="form-control" />
        <span asp-validation-for="ProfilePictureUrl" class="text-danger"></span>
    </div>

    <button type="submit" class="btn btn-primary mt-4">Save Changes</button>
    <a asp-controller="UserAccount" asp-action="Index" asp-route-userId="@Model.UserId" class="btn btn-secondary mt-4">Cancel</a>
</form>

<div class="actions">
    <form class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
        <button type="submit" class="nav-link btn btn-link">Logout</button>
    </form>

    <form asp-controller="UserAccount" asp-action="Delete" method="post">
		@Html.AntiForgeryToken()

        <input type="hidden" name="userId" value="@Model.UserId" />
        <button type="submit" class="btn btn-danger"
                onclick="return confirm('Are you sure you want to delete your account?')">
            Delete Account
        </button>
    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
